%!PS-Adobe-1.0
%%Creator: HP-UX:cavelloc (Christopher D Cavello,M,P,ELECENG,GRD,Unknown,Enrolled)
%%Title: ServerThread.java
%%CreationDate: Thu May 29 00:54:25 1997
%%DocumentFonts: Courier-Bold Courier
% Start of enscript.pro -- prolog for text file translator
% Copyright (c) 1984,1985,1987 Adobe Systems Incorporated. All Rights Reserved. 
% GOVERNMENT END USERS: See Notice file in TranScript library directory
% -- probably /usr/lib/ps/Notice
% RCSID: $Header: enscript.pro,v 2.2 87/11/17 16:39:56 byron Rel $
save/EnscriptJob exch def
/StartEnscriptDoc{$enscript begin}def
/$enscript 50 dict def $enscript begin
/EndEnscriptDoc{end}def
/S/show load def
/X{exch 0 rmoveto S}def
/Y{exch 0 exch rmoveto S}def
/B{3 1 roll moveto S}def
/F{$fd exch get setfont}def
/StartPage{/svpg save def .05 dup scale}def
/EndPage{svpg restore showpage}def
/DoPreFeed{/statusdict where{pop
 statusdict/prefeed known{statusdict exch/prefeed exch put 0}if}if pop}def
/Landscape{90 rotate 0 -15840 translate}def
/SetUpFonts
 {dup/$fd exch array def{findfont exch scalefont $fd 3 1 roll put}repeat}def
/InitGaudy{/TwoColumn exch def /BarLength exch def
 /ftD /Times-Bold findfont 12 UP scalefont def
 /ftF /Times-Roman findfont 14 UP scalefont def
 /ftP /Helvetica-Bold findfont 30 UP scalefont def}def
/U{1440 mul}def
/UP{U 72 div}def
/LB{/pts exch UP def /charcolor exch def /boxcolor exch def /font exch def
 /label exch def /dy exch def /dx exch def /lly exch def /llx exch def
 gsave boxcolor setgray
 llx lly moveto dx 0 rlineto 0 dy rlineto dx neg 0 rlineto closepath fill
 /lines label length def
 /yp lly dy add dy lines pts mul sub 2 div sub pts .85 mul sub def
 font setfont charcolor setgray
 label {dup stringwidth pop 2 div llx dx 2 div add exch sub yp moveto show
   /yp yp pts sub def}forall grestore}def
/Gaudy{/Page exch def /Date exch def /File exch def /Comment exch def
 .25 U 10.2 U BarLength .1 sub U .25 U [File] ftF .97 0 14 LB
 .25 U 10.45 U BarLength .1 sub U .25 U [Comment] ftF 1 0 14 LB
 .25 U 10.2 U 1 U .5 U Date ftD .7 0 12 LB
 BarLength .75 sub U 10.2 U 1 U .5 U [Page] ftP .7 1 30 LB
 TwoColumn{BarLength 2 div .19 add U 10.2 U moveto 0 -10 U rlineto stroke}if
}def
end
StartEnscriptDoc % end fixed prolog
1 200 /Courier-Bold
0 140 /Courier
2 SetUpFonts
%%EndProlog
%%Page: ? 1
StartPage
1 F
900 14900 (ServerThread.java        Thu May 29 00:54:16 1997        1)B
0 F
900 14580(/******************************************************************)B
2244 14420(Christopher D. Cavello)B
2244 14260(May 21, 1997)B
2244 14100(ee 701)B
2244 13940(project 2)B
900 13780(*******************************************************************/)B
900 13460(/*)B
984 13300(*  server: add your code serverthread)B
984 13140(*/)B
900 12820(import java.util.*;)B
900 12660(import java.net.*;)B
900 12500(import java.io.*;)B
900 12340(import java.lang.*;)B
900 12020(class ServerThread extends Thread )B
900 11860({)B
1068 11700(Socket socket = null;)B
1068 11540(ServerThread\(Socket socket\) )B
1068 11380({)B
1236 11220(super\("ServerThread"\);)B
1236 11060(this.socket=socket;)B
1068 10900(})B
1068 10740(public void run\(\) )B
1068 10580({)B
1236 10420(try )B
1236 10260({)B
1404 10100(DataInputStream in = new DataInputStream\(new BufferedInputStream\(socket.getInputStream\(\)\)\);)B
1404 9940(PrintStream out = new PrintStream\(new BufferedOutputStream\(socket.getOutputStream\(\), 1024\), false\);)B
1404 9780(String inputLine,outputLine;)B
1404 9620(int seconds, minutes, hours;)B
1404 9460(while  \(\(inputLine = in.readLine\(\)\) != null\) )B
1404 9300({)B
1572 9140(Date now=new Date\(\);)B
1572 8980(hours=now.getHours\(\);)B
1572 8820(minutes=now.getMinutes\(\);)B
1572 8660(seconds=now.getSeconds\(\);)B
1572 8500(/* above lines from Javasoft's  "Clock.java" program   */)B
1572 8340(/* below line borrowed from a friend's web page)B
168(*/)X
1572 8180(outputLine="" + \(\(hours >12\) ? hours -12 : hours\) + \(\(minutes <10\) ? ":0" : ":"\) + minutes)B
1908 8020(+ \(\(seconds <10\) ? ":0" : ":"\) + seconds + \(\(hours >=12\) ? " PM" : " AM"\);)B
1572 7860(if \(inputLine.equals\("Time?"\)\) )B
1572 7700({)B
1740 7540(out.println\(outputLine\);)B
1740 7380(out.flush\(\);)B
1572 7220(})B
1404 7060(}  /* end of while loop  */)B
1404 6900(out.close\(\);)B
1404 6740(in.close\(\);)B
1404 6580(socket.close\(\);)B
1236 6420(} )B
1236 6260(catch \(IOException e\) {)B
1404 6100(e.printStackTrace\(\);)B
1236 5940(})B
1068 5780(}  /* end of "public void run\(\)"  */)B
900 5620(}  /* end of "class ServerThread extends Thread" */)B
EndPage
%%Trailer
EndEnscriptDoc
EnscriptJob restore
